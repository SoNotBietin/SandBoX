<!DOCTYPE html>
<html>
<head>
    <title>Game Controls</title>
    <style>
        /* Styling for the elements */
        #player {
            width: 50px;
            height: 50px;
            background-color: blue;
            position: absolute;
        }
        #touchjoy {
            width: 100px;
            height: 100px;
            border: 2px solid black;
            border-radius: 50%;
            background-color: transparent;
            position: absolute;
        }
        #ground {
            width: 100%;
            height: 20px;
            background-color: green;
            position: absolute;
            bottom: 0;
        }
    </style>
</head>
<body>
    <!-- Game Elements -->
    <div id="player">Player</div>
    <div id="touchjoy">Touchjoy</div>
    <div id="ground"></div>

    <!-- JavaScript for Controls -->
    <script>
        const player = document.getElementById('player');
        const touchjoy = document.getElementById('touchjoy');
        const ground = document.getElementById('ground');

        touchjoy.addEventListener('mousemove', (event) => {
            const outerCircle = touchjoy.getBoundingClientRect();
            const innerCircle = touchjoy.firstElementChild.getBoundingClientRect();
            const tjmove = {
                x: event.clientX - outerCircle.left - outerCircle.width / 2,
                y: event.clientY - outerCircle.top - outerCircle.height / 2
            };

            // Calculate the angle of the inner circle
            const angle = Math.atan2(tjmove.y, tjmove.x);

            // Calculate the distance from the center to the inner circle
            const distance = Math.min(outerCircle.width / 2, Math.sqrt(tjmove.x ** 2 + tjmove.y ** 2));

            // Move the inner circle
            innerCircle.style.transform = `translate(${distance * Math.cos(angle)}px, ${distance * Math.sin(angle)}px)`;

            // Your movement logic
            if (tjmove.x < -10) {
                player.style.left = `${parseInt(player.style.left || '0') - 5}px`;
            } else if (tjmove.x > 10) {
                player.style.left = `${parseInt(player.style.left || '0') + 5}px`;
            }

            if (tjmove.y < -10) {
                player.style.top = `${parseInt(player.style.top || '0') - 5}px`;
            } else if (tjmove.y > 10) {
                player.style.top = `${parseInt(player.style.top || '0') + 5}px`;
            }
        });

        touchjoy.addEventListener('mouseleave', () => {
            // Reset inner circle to the center
            touchjoy.firstElementChild.style.transform = 'translate(0, 0)';
        });
    </script>
</body>
</html>
